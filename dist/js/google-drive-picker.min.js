var CONFIG={GOOGLE_CLIENT_ID:"614513768474.apps.googleusercontent.com"};if("undefined"==typeof TEMPLATES)var TEMPLATES={};if(TEMPLATES["google-drive-picker-template.html"]='<button class="btn btn-link btn-google" type="button">Google Drive &#8482;</button>\n',"undefined"==typeof RiseVision)var RiseVision={Authorization:{}};!function(e,i,o){"use strict";o.Authorization=function(){function o(o,n,t){i.auth.authorize({client_id:e.GOOGLE_CLIENT_ID,scope:n,immediate:o},function(e){e&&!e.error?r=e.access_token:window.console&&console.info("Authorization Fail: "+e.error),t.call(null,r)})}function n(){return l}function t(e){i.load("auth",{callback:function(){l=!0,"function"==typeof e&&e.apply(null)}})}function c(){return r}var r=null,l=!1;return{authorize:o,getAuthToken:c,isApiLoaded:n,loadApi:t}}()}(CONFIG,gapi,RiseVision),function(e,i,o,n){"use strict";function t(i,t){function c(e){e[google.picker.Response.ACTION]===google.picker.Action.PICKED}function r(){if(k&&g.getAuthToken()){var e=(new google.picker.PickerBuilder).setOrigin(d).addView(h[t.viewId]).setOAuthToken(g.getAuthToken()).setCallback(c).build();e.setVisible(!0)}}function l(){k=!0,h={docs:google.picker.ViewId.DOCS,docs_images:google.picker.ViewId.DOCS_IMAGES,documents:google.picker.ViewId.DOCUMENTS,presentations:google.picker.ViewId.PRESENTATIONS,spreadsheets:google.picker.ViewId.SPREADSHEETS,forms:google.picker.ViewId.FORMS,docs_images_and_videos:google.picker.ViewId.DOCS_IMAGES_AND_VIDEOS,docs_videos:google.picker.ViewId.DOCS_VIDEOS,folders:google.picker.ViewId.FOLDERS,pdfs:google.picker.ViewId.PDFS},r()}function u(){f.on("click",function(){return k&&g.getAuthToken()?void r():g.getAuthToken()?void(k||gapi.load("picker",{callback:l})):void g.authorize(!1,s,function(e){e&&gapi.load("picker",{callback:l})})})}function a(){p.append(n["google-drive-picker-template.html"]),f=p.find(".btn-google"),d=o.referrer.split("/").slice(0,3).join("/")+"/",g.isApiLoaded()?u():g.loadApi(function(){g.authorize(!0,s,function(){u()})})}var d,g=RiseVision.Authorization,s="https://www.googleapis.com/auth/drive",p=e(i),f=null,k=!1,h={};return t=e.extend({},{viewId:"docs"},t),a(),{}}var c="googleDrivePicker";e.fn.googleDrivePicker=function(i){return this.each(function(){e.data(this,"plugin_"+c)||e.data(this,"plugin_"+c,new t(this,i))})}}(jQuery,window,document,TEMPLATES,CONFIG);