var CONFIG={GOOGLE_CLIENT_ID:"614513768474.apps.googleusercontent.com"};if("undefined"==typeof TEMPLATES)var TEMPLATES={};if(TEMPLATES["google-drive-picker-template.html"]='<button class="btn btn-link btn-google" type="button">Google Drive &#8482;</button>\n',"undefined"==typeof RiseVision)var RiseVision={Authorization:{}};!function(e,o,i){"use strict";i.Authorization=function(){function i(i,n,t){o.auth.authorize({client_id:e.GOOGLE_CLIENT_ID,scope:n,immediate:i},function(e){e&&!e.error?c=e.access_token:window.console&&console.info("Authorization Fail: "+e.error),t.call(null,c)})}function n(){return l}function t(e){o.load("auth",{callback:function(){l=!0,"function"==typeof e&&e.apply(null)}})}function r(){return c}var c=null,l=!1;return{authorize:i,getAuthToken:r,isApiLoaded:n,loadApi:t}}()}(CONFIG,gapi,RiseVision),function(e,o,i,n){"use strict";function t(t,r){function c(){return V}function l(e){"string"==typeof e&&(V=e)}function g(){return v}function u(e){e[google.picker.Response.ACTION]===google.picker.Action.PICKED?(w.trigger(A,[e[google.picker.Response.DOCUMENTS]]),v=!1):e[google.picker.Response.ACTION]===google.picker.Action.CANCEL&&(w.trigger(I),v=!1)}function a(){if(S&&k.getAuthToken()){var e=(new google.picker.PickerBuilder).setOrigin(f).addView(O[V]).setOAuthToken(k.getAuthToken()).setCallback(u).build();e.setVisible(!0),v=!0,w.trigger(E)}}function s(){S=!0,O={docs:google.picker.ViewId.DOCS,docs_images:google.picker.ViewId.DOCS_IMAGES,documents:google.picker.ViewId.DOCUMENTS,presentations:google.picker.ViewId.PRESENTATIONS,spreadsheets:google.picker.ViewId.SPREADSHEETS,forms:google.picker.ViewId.FORMS,docs_images_and_videos:google.picker.ViewId.DOCS_IMAGES_AND_VIDEOS,docs_videos:google.picker.ViewId.DOCS_VIDEOS,folders:google.picker.ViewId.FOLDERS,pdfs:google.picker.ViewId.PDFS},a()}function d(){T.on("click",function(){return S&&k.getAuthToken()?void a():k.getAuthToken()?void(S||gapi.load("picker",{callback:s})):void k.authorize(!1,h,function(e){e&&gapi.load("picker",{callback:s})})})}function p(){var e=i.createElement("a");w.append(n["google-drive-picker-template.html"]),T=w.find(".btn-google"),i.referrer?(e.href=i.referrer,f=e.protocol+"//"+e.hostname):f=o.location.protocol+"//"+o.location.host,k.isApiLoaded()?d():k.loadApi(function(){k.authorize(!0,h,function(){d()})})}var f,k=RiseVision.Authorization,h="https://www.googleapis.com/auth/drive",A="picked",E="open",I="cancel",w=e(t),T=null,S=!1,O={},V=r.viewId||"docs",v=!1;return p(),{getViewId:c,setViewId:l,isPickerVisible:g}}var r="googleDrivePicker";e.fn.googleDrivePicker=function(o){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new t(this,o))})}}(jQuery,window,document,TEMPLATES);